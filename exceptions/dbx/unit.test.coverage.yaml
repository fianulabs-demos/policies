status: draft

general:
  policy:
    name: 'Code Coverage'
    type: exception
    path: f.exception.dbx.ci.testing.code.coverage

control:
  path: ci.testing.code.coverage

policy:
- criteria:
    expression: application.path == 'dbx'
  policy:
    required: true
    overall_coverage:
      minimum: 0.8

form:
  path: dbx.standard.exception.form
  elements:
    - name: Manager Approval
      code: 0
      type: boolean
      inputs:
        boolean: true
    - name: Justification
      code: 1
      type: blob
      inputs:
        blob: "We could not meet the minimum prior to this release.\n\nThere were several resource constraints that limited our ability to address this issue in a timely manner."
    - name: Ticket ID
      code: 2
      type: text
      inputs:
        text: RND123456
    - name: Reason
      code: 3
      type: checkbox
      inputs:
        selections:
          - code: 0
            name: Resource Constraints
          - code: 1
            name: Technical Knowledge
          - code: 2
            name: Business Needs

expiration: 
  timestamp: '2025-03-01T14:56:01Z'

override:
  asset:
    types:
    - application
